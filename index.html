<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive English Lesson</title>
    <style>
        /* Global Styles */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f9f9f9;
        }

        h1, h2, h3 {
            color: #2c3e50;
        }

        /* Story/Paragraph Section */
        .story-container {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }

        .lesson-title {
            text-align: center;
            margin-bottom: 20px;
            color: #3498db;
        }

        .story-text {
            font-size: 18px;
            text-align: justify;
        }

        /* Emoji Animations */
        .walking-elephant {
            font-size: 30px;
            position: absolute;
            top: 10px;
            left: -50px;
            animation: walkAcross 15s linear infinite;
        }

        .flying-butterfly {
            font-size: 25px;
            position: absolute;
            right: 20px;
            top: 50px;
            animation: flyAround 12s ease-in-out infinite;
        }

        @keyframes walkAcross {
            0% { transform: translateX(-50px); }
            100% { transform: translateX(850px); }
        }

        @keyframes flyAround {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            25% { transform: translateY(-20px) rotate(5deg); }
            50% { transform: translateY(0) rotate(0deg); }
            75% { transform: translateY(20px) rotate(-5deg); }
        }

        /* Tooltip Styles */
        .tooltip {
            position: relative;
            display: inline-block;
            font-weight: bold;
            cursor: help;
            transition: all 0.3s ease;
        }

        .tooltip:hover {
            color: #e74c3c;
            transform: scale(1.1);
            text-shadow: 0 0 8px rgba(231, 76, 60, 0.4);
        }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: #2c3e50;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -100px;
            opacity: 0;
            transition: opacity 0.3s;
            font-weight: normal;
            font-size: 14px;
        }

        .tooltip .tooltiptext::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: #2c3e50 transparent transparent transparent;
        }

        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }

        .ipa {
            font-weight: bold;
            color: #f1c40f;
            display: block;
            margin-bottom: 5px;
        }

        /* Difficult Words Section */
        .difficult-words {
            background: linear-gradient(135deg, #e0f7fa 0%, #80deea 100%);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .word-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 15px;
            margin-top: 20px;
            padding: 10px;
        }

        .word-item {
            background-color: #fff;
            padding: 12px 20px;
            border-radius: 30px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            cursor: help;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
            margin: 8px;
            border: 2px solid transparent;
            font-weight: 600;
            color: #2c3e50;
            min-width: 120px;
            text-align: center;
        }

        .word-item::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            border-radius: 30px;
            background: linear-gradient(45deg, #ff9a9e, #fad0c4, #fbc2eb, #a6c1ee);
            background-size: 400% 400%;
            z-index: -1;
            opacity: 0;
            transition: all 0.5s ease;
        }

        .word-item:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 10px 20px rgba(0,0,0,0.15);
            color: #fff;
        }

        .word-item:hover::before {
            opacity: 1;
            animation: gradientGlow 3s ease infinite;
        }

        @keyframes gradientGlow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .word-item:active {
            transform: scale(0.95);
            animation: bounce 0.5s;
        }

        @keyframes bounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        /* Audio Pronunciation Section */
        .audio-section {
            background: linear-gradient(135deg, #fff9c4 0%, #ffecb3 100%);
            border-radius: 15px;
            padding: 20px;
            margin: 25px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: center;
        }

        .teacher-controls {
            display: none;
            background: rgba(255,255,255,0.9);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
        }

        .teacher-login {
            text-align: center;
            margin-bottom: 15px;
        }

        .teacher-toggle {
            color: #5d4037;
            text-decoration: underline;
            cursor: pointer;
            font-size: 0.9em;
            display: inline-block;
            margin-top: 10px;
        }

        #teacher-password {
            padding: 8px 12px;
            border-radius: 20px;
            border: 1px solid #ccc;
            margin-right: 10px;
            width: 150px;
        }

        .auth-button {
            background: #5d4037;
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .auth-button:hover {
            background: #3e2723;
        }

        .audio-upload-label {
            display: inline-block;
            background: #5d4037;
            color: white;
            padding: 10px 20px;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .audio-upload-label:hover {
            background: #3e2723;
            transform: translateY(-2px);
        }

        #audio-upload {
            display: none;
        }

        .audio-player {
            width: 100%;
            max-width: 400px;
            margin: 20px auto;
            background: white;
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        audio {
            width: 100%;
            outline: none;
        }

        .audio-filename {
            margin-top: 10px;
            font-style: italic;
            color: #5d4037;
        }

        /* Practice Section */
        .practice-words {
            background: linear-gradient(135deg, #e8f5e9 0%, #a5d6a7 100%);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .practice-list {
            list-style-type: none;
            padding: 0;
            columns: 2;
        }

        .practice-list li {
            margin-bottom: 8px;
            padding-left: 20px;
            position: relative;
        }

        .practice-list li::before {
            content: "‚Ä¢";
            color: #2e7d32;
            font-size: 20px;
            position: absolute;
            left: 0;
        }

        /* Responsive Design */
        @media (max-width: 600px) {
            .practice-list {
                columns: 1;
            }
            
            .word-list {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            }
            
            .word-item {
                padding: 10px 15px;
                min-width: 100px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <!-- Story/Paragraph Section -->
    <div class="story-container">
        <div class="walking-elephant">üêò</div>
        <div class="flying-butterfly">ü¶ã</div>
        <h1 class="lesson-title">The Baby Elephant</h1>
        <p class="story-text" id="lesson-paragraph">
            In the middle of a big forest, a young baby elephant got stuck in a trap. She cries for help, but her
family can‚Äôt help her. Her mom and dad leave to find food, leaving her alone. After a while, a
kind man from a village hears her cries and comes to free her. She tries to find her family,
walking around the forest, but she can‚Äôt. One day, a man from an observation station finds her.
He takes her to the Ta Moa mountain park to feed her and keep her safe. Her story is now
popular on social media. People see how cute and sad her situation is, especially with her right
front leg badly injured. Every day, people visit her and send baby milk to help her stay alive. The
baby elephant, once alone and hurt, now has many fans who care for her and hope she will get
better.
        </p>
    </div>

    <!-- Audio Pronunciation Section -->
    <div class="audio-section">
        <h2 class="audio-title">Listen to Pronunciation</h2>
        
        <!-- Teacher Login Area -->
        <div class="teacher-login" id="teacher-login">
            <p>Teacher access required for uploads</p>
            <input type="password" id="teacher-password" placeholder="Enter teacher password">
            <button class="auth-button" id="login-button">Unlock</button>
            <div class="teacher-toggle" id="student-view">I'm a student</div>
        </div>
        
        <!-- Teacher Controls (Hidden until login) -->
        <div class="teacher-controls" id="teacher-controls">
            <label for="audio-upload" class="audio-upload-label">Upload MP3 File</label>
            <input type="file" id="audio-upload" accept="audio/mp3">
            <div class="teacher-toggle" id="logout-button">Lock Teacher Mode</div>
        </div>
        
        <!-- Audio Player (Visible to all) -->
        <div class="audio-player">
            <audio id="lesson-audio" controls>
                Your browser does not support the audio element.
            </audio>
            <div class="audio-filename" id="audio-filename">No audio loaded</div>
        </div>
    </div>

    <!-- Difficult Words Section -->
    <div class="difficult-words">
    <h2>Difficult Words</h2>
    <div class="word-list" id="difficult-words-list">
        <div class="word-item" data-word="elephant" data-ipa="/Àà…õl…™f…ônt/" data-definition="A large animal with a long trunk and tusks.">
            elephant
            <span class="tooltiptext"><span class="ipa">/Àà…õl…™f…ônt/</span>A large animal with a long trunk and tusks.</span>
        </div>
        <div class="word-item" data-word="trapped" data-ipa="/tr√¶pt/" data-definition="Unable to escape from a place or situation.">
            trapped
            <span class="tooltiptext"><span class="ipa">/tr√¶pt/</span>Unable to escape from a place or situation.</span>
        </div>
        <div class="word-item" data-word="cry" data-ipa="/kra…™/" data-definition="To call out or make a loud noise, often to express pain or sadness.">
            cry
            <span class="tooltiptext"><span class="ipa">/kra…™/</span>To call out or make a loud noise, often to express pain or sadness.</span>
        </div>
        <div class="word-item" data-word="family" data-ipa="/Ààf√¶m…™li/" data-definition="A group of related people or animals.">
            family
            <span class="tooltiptext"><span class="ipa">/Ààf√¶m…™li/</span>A group of related people or animals.</span>
        </div>
        <div class="word-item" data-word="village" data-ipa="/Ààv…™l…™d í/" data-definition="A small town in the countryside.">
            village
            <span class="tooltiptext"><span class="ipa">/Ààv…™l…™d í/</span>A small town in the countryside.</span>
        </div>
        <div class="word-item" data-word="free" data-ipa="/friÀê/" data-definition="To release someone or something from being trapped.">
            free
            <span class="tooltiptext"><span class="ipa">/friÀê/</span>To release someone or something from being trapped.</span>
        </div>
        <div class="word-item" data-word="forest" data-ipa="/Ààf…îÀêr…™st/" data-definition="A large area of land covered with trees.">
            forest
            <span class="tooltiptext"><span class="ipa">/Ààf…îÀêr…™st/</span>A large area of land covered with trees.</span>
        </div>
        <div class="word-item" data-word="injured" data-ipa="/Àà…™nd í…ôd/" data-definition="Hurt or physically damaged.">
            injured
            <span class="tooltiptext"><span class="ipa">/Àà…™nd í…ôd/</span>Hurt or physically damaged.</span>
        </div>
        <div class="word-item" data-word="popular" data-ipa="/Ààp…ípj äl…ô(r)/" data-definition="Liked or followed by many people.">
            popular
            <span class="tooltiptext"><span class="ipa">/Ààp…ípj äl…ô(r)/</span>Liked or followed by many people.</span>
        </div>
        <div class="word-item" data-word="milk" data-ipa="/m…™lk/" data-definition="A white liquid produced by mammals, often used as food">
            milk
            <span class="tooltiptext"><span class="ipa">/m…™lk/</span>A white liquid produced by mammals, often used as food</span>
        </div>
    </div>
</div>

    <!-- Practice Section -->
    <div class="practice-words">
        <h2>Practice These Words</h2>
        <ul class="practice-list" id="practice-words-list">
            <!-- Auto-populated from difficult words -->
        </ul>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Process difficult words and paragraph
            const paragraph = document.getElementById('lesson-paragraph');
            const wordItems = document.querySelectorAll('.word-item');
            const practiceList = document.getElementById('practice-words-list');
            
            // Clear existing practice list items
            practiceList.innerHTML = '';
            
            // Process each difficult word
            wordItems.forEach(item => {
                const word = item.dataset.word;
                const ipa = item.dataset.ipa;
                const definition = item.dataset.definition;
                
                // Add word to practice list
                const li = document.createElement('li');
                li.textContent = word;
                practiceList.appendChild(li);
                
                // Highlight all instances of the word in the paragraph
                const regex = new RegExp(`\\b${word}\\b`, 'gi');
                paragraph.innerHTML = paragraph.innerHTML.replace(regex, 
                    `<span class="tooltip">${word}<span class="tooltiptext"><span class="ipa">${ipa}</span>${definition}</span></span>`);
            });

            // Audio System with Teacher Auth
            const teacherPassword = "teach123"; // CHANGE THIS TO YOUR PASSWORD
            const teacherLogin = document.getElementById('teacher-login');
            const teacherControls = document.getElementById('teacher-controls');
            const loginButton = document.getElementById('login-button');
            const logoutButton = document.getElementById('logout-button');
            const studentView = document.getElementById('student-view');
            
            // Check if teacher mode is active (persists on page refresh)
            if(localStorage.getItem('teacherMode') === 'true') {
                teacherLogin.style.display = 'none';
                teacherControls.style.display = 'block';
            }
            
            // Teacher Login
            loginButton.addEventListener('click', function() {
                const inputPass = document.getElementById('teacher-password').value;
                if(inputPass === teacherPassword) {
                    localStorage.setItem('teacherMode', 'true');
                    teacherLogin.style.display = 'none';
                    teacherControls.style.display = 'block';
                } else {
                    alert("Incorrect password");
                }
            });
            
            // Logout
            logoutButton.addEventListener('click', function() {
                localStorage.removeItem('teacherMode');
                teacherControls.style.display = 'none';
                teacherLogin.style.display = 'block';
            });
            
            // Student View
            studentView.addEventListener('click', function() {
                teacherLogin.style.display = 'none';
            });
            
            // Audio Upload Functionality (for teachers)
            const audioUpload = document.getElementById('audio-upload');
            const lessonAudio = document.getElementById('lesson-audio');
            const audioFilename = document.getElementById('audio-filename');
            
            audioUpload.addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    const objectURL = URL.createObjectURL(file);
                    lessonAudio.src = objectURL;
                    audioFilename.textContent = file.name;
                    
                    // Save to localStorage so students can access
                    localStorage.setItem('lastAudioFile', objectURL);
                    localStorage.setItem('lastAudioName', file.name);
                }
            });
            
            // Load previous audio (for students)
            if(localStorage.getItem('lastAudioFile')) {
                lessonAudio.src = localStorage.getItem('lastAudioFile');
                audioFilename.textContent = localStorage.getItem('lastAudioName');
            }
        });
    </script>
</body>
</html>